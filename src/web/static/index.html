<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Cache-Control" content="no-store">
  <title>Web Chat</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; }
    #controls { margin-bottom: 0.5rem; }
  #log { white-space: normal; border: 1px solid #ccc; padding: 1rem; height: 50vh; overflow: auto; margin-bottom: 1rem; }
    #log img { max-width: 100%; height: auto; display: block; margin: 0.25rem 0; }
    #log a { color: #1a73e8; text-decoration: underline; }
    #log pre { background: #f6f8fa; padding: 0.75rem; overflow: auto; border-radius: 4px; }
    #log code { background: #f6f8fa; padding: 0.1rem 0.25rem; border-radius: 3px; }
  #log p { margin: 0.2rem 0; }
  #log ul, #log ol { margin: 0.2rem 0 0.2rem 1.25rem; padding-left: 0.75rem; }
  #log li { margin: 0.1rem 0; }
  #log h1, #log h2, #log h3 { margin: 0.4rem 0 0.3rem; }
    .msg { margin-bottom: 0.75rem; }
    .author { font-weight: 600; margin-bottom: 0.25rem; }
    .content { white-space: normal; }
    #msg { width: 80%; }
  </style>
</head>
<body>
  <h2>Web Chat (single room)</h2>
  <div id="controls">
    <label for="name" style="margin-right:0.5rem">Name:</label>
    <input id="name" placeholder="You" style="width:20%">
  </div>
  <div id="log"></div>
  <input id="msg" placeholder="Type a message">
  <button id="sendBtn" type="button">Send</button>
  <button id="resetBtn" type="button" style="margin-left:0.5rem">Reset</button>
  <div id="status" style="margin-top:0.5rem;color:#555">Ready for new Message.</div>
  <div id="security-note" style="margin-top:0.25rem;color:#888;display:none;font-size:0.9rem"></div>
  <div id="token-help" style="margin-top:0.15rem;color:#888;display:none;font-size:0.9rem"></div>
  <div id="token-row" style="margin-top:0.25rem;display:none">
    <label for="token" style="margin-right:0.5rem;color:#666">API token:</label>
    <input id="token" type="password" placeholder="Enter token" style="width:40%">
  </div>
  <script src="/static/app.js?v=3"></script>
</body>
</html>
